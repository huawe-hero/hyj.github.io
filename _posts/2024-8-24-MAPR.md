---
layout: post
title: Robust k-Maintained Multi Agent Path Replanning Under Fault Conditions（故障下的鲁棒k维持多智能体路径重规划）
description: >
  这篇文章提出了一种名为RkM-MAPR(Robust k-Maintained Multi-Agent Path Replanning)的算法，用于解决多智能体系统中因故障导致的路径重规划问题，通过动态分配临时目的地和考虑k步延迟来增强路径规划的鲁棒性。它利用行动依赖图(ADG)和多智能体路径寻找(MAPF)算法来确保重规划路径的安全性和无冲突性。
tags: [MAPF]
---
# Robust k-Maintained Multi Agent Path Replanning Under Fault Conditions（故障下的鲁棒k维持多智能体路径重规划）
## 针对问题

* 故障情况下的路径重规划：在多智能体系统中，当一个或多个智能体遇到故障时，原本规划好的路径可能不再可行。这就需要一个能够动态重新规划路径的算法，以确保所有智能体能够安全、有效地到达目的地。

* 临时目的地的分配：当智能体的主要目的地由于其他智能体的故障而不可达时，需要为这些智能体动态重新分配临时目的地。下图描述了故障情况下路径重规划无解的情况以及设置临时终点的必要性


    **第一种无解情况：**故障智能体位于其他智能体的目的地。例如，智能体A1从S1导航至G1，而智能体A2从S2导航至G2（图a）。如果A2在位置E发生故障，而E恰好是A1的目的地，那么重新规划A2的路径将变得不可能，因为目的地被故障智能体占据（图b）。

    **第二种无解情况：**故障智能体位于其他智能体到达目的地的必经之路上。如图e和f所示，智能体A1从S1导航至G1，智能体A2从S2导航至G2。如果A2在位置E发生故障，那么将不存在重新规划A2路径的可行解决方案，因为E是通往A2目的地的必经之路。

    **设置临时终点的必要性：**如果一个智能体因为故障而无法到达其原始目的地，并且没有解决方案让它继续前进，它可能会静止不动，从而可能阻塞其他智能体的关键路径。例如，在图c中，智能体A3的目标是到达G3，但如果A1阻塞了A3必须经过的唯一路线，A3就无法到达目的地。为了解决这个问题，文章提出为那些原始目的地被故障智能体占据的智能体分配一个临时目的地。例如，在图d中，为A1分配临时目的地GT1。通过这种调整，A3就能够成功地到达其最终目的地G3。这种方法确保了即使在故障发生的情况下，系统的整体导航效率和安全性也能得到保障。
        
![TD](/pictures/TD.png "TD")

* 针对k步延迟的鲁棒性考虑：在故障条件下，智能体在执行重规划路径时可能会遇到k步的延迟。RkM-MAPR算法需要确保即使在这些延迟发生时，路径规划依然保持鲁棒性。

    **设置鲁棒策略的必要性：**如下图a所示，一个智能体正在从S1导航至G，并遵循紫色路径。但如果在智能体到达S2位置时，另一个智能体意外发生故障，那么原始路径需要立即重新规划，如图b中的红色路径所示。不幸的是，在实际的机器人运行中，从故障智能体发送故障信息的那一刻起，将更新后的路径传播给所有智能体存在延迟。由于这种延迟，当智能体接收到新路径时，它可能已经沿着原始路径到达了Tp位置，如图c所示。如果没有鲁棒策略，在路径重规划后，智能体可能会偏离预定路径。

![R](/pictures/R.png "R")

## 解决方案

* 临时目的地（Temporary Destination）：文章首先提出了临时目的地的概念，用于在智能体无法到达原定目的地时，为其分配一个新的目的地，以最小化对其他智能体路径的影响。

* RkM-MAPR算法：文章提出了RkM-MAPR算法，该算法在故障条件下重新规划路径，并确保在k步延迟的情况下路径的安全性和无冲突性。

* 动作依赖图（Action Dependency Graph, ADG）：使用ADG来模拟和建立模拟路径，作为路径重规划的初始k步。ADG是一个安全框架，确保在任何给定的时间步，每个位置只被一个智能体占用，从而避免冲突。

* 多智能体路径寻找（MAPF）算法：在关键的k步之后，MAPF算法接管，确保后续路径的无冲突性。文章中使用了Large Neighbor Search (LNS) 作为MAPF算法的一种实现。

* 理论分析：文章通过理论分析证明了重规划路径的无冲突性和k步鲁棒性，确保了RkM-MAPR算法在实际应用中的有效性。



## 仿真与实验
在智能体启动并运行一段时间后，大约10%的智能体遭遇故障，导致它们停留在原位置。对于受到故障智能体影响而无法到达终点的智能体，我们为他们分配了临时终点。与此同时，其余智能体成功地重新规划了它们的路径。值得注意的是，即使在重规划之后，所有智能体的路径在接下来的三个步长（以蓝色路径点表示）仍然遵循原始路径的走向。
<iframe src="//player.bilibili.com/player.html?isOutside=true&aid=113039579808528&bvid=BV1gcsuehEkf&cid=25623072410&p=1" scrolling="no"  border="0"  frameborder="no"  framespacing="0" allowfullscreen="true" width="100%"  height="500px"> </iframe>
      
## 论文发表
论文正在投稿。

